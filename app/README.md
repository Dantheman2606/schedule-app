# TimeBlock Desktop Application

This is the Electron desktop application wrapper for the TimeBlock Schedule app.

## Features

- Standalone desktop application
- Configurable backend URL via `.env` file
- Cross-platform support (Windows, macOS, Linux)

## Setup

1. Install dependencies:
   ```
   npm install
   ```

2. Configure the backend URL in `.env`:
   ```
   BACKEND_URL=http://localhost:3000/api
   ```
   Or set it to your deployed backend URL:
   ```
   BACKEND_URL=https://your-backend-url.com/api
   ```

## Build and Run

### Build the application
This will build the frontend and copy it to the app folder:
```
npm run build
```

### Run in development mode
```
npm start
```

### Package the application

Package for Windows (x64):
```
npm run package
```

Package for all platforms:
```
npm run package:all
```

The packaged application will be available in the `dist` folder.

## Project Structure

```
app/
├── main.js          # Electron main process
├── preload.js       # Preload script for secure IPC
├── build.js         # Build script to prepare frontend
├── .env             # Environment configuration (backend URL)
├── package.json     # Dependencies and scripts
└── frontend/        # Built frontend (generated by build script)
```

## Configuration

### Backend URL
The app reads the backend URL from the `.env` file. You can change this to point to:
- Local development server: `http://localhost:3000/api`
- Remote production server: `https://your-domain.com/api`

### Icon
To add a custom icon:
1. Add `icon.png` (512x512 recommended) to the app folder
2. For Windows, also add `icon.ico`
3. The icon will be used when packaging the application

## Development Workflow

1. Make changes to the frontend in `../frontend/`
2. Run `npm run build` to rebuild and copy to the app
3. Run `npm start` to test the Electron app
4. Run `npm run package` to create a distributable

## Notes

- The frontend is built separately and copied into the app folder
- The app uses `electron-is-dev` to detect development mode
- In development, it can connect to a local Vite dev server or use the built files
- LocalStorage is used for authentication tokens (persists across sessions)
